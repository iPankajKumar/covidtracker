<div class="container-fluid">
    <div class="row">
        <div class="col-xl-12">
            <div>
                <div class="container-fluid padding-lr-0">
                    <div class="row">
                        <div class="col-xl-12">
                            <div class="container-fluid top-strip">
                                <div class="row">
                                    <div class="col-xl-4">
                                        <div class="timerCount">
                                            <i class="fas fa-stopwatch"></i>
                                            <span>{{display}}</span>
                                            <div class="clearfix"></div>
                                        </div>
                                    </div>
                                    <div class="col-xl-4">
                                        <div class="suggestions">
                                            <div class="notes"><span class="free"></span> Free</div>
                                            <div class="notes"><span class="paid"></span> Paid</div>
                                            <div class="clearfix"></div>
                                        </div>
                                    </div>
                                    <div class="col-xl-4">
                                        <div class="button-area">
                                            <button type="button" class="btn-change btn-primary common-btn" (click)="searchSlotModal()">Change Preference</button>
                                            <button type="button" (click)="clearAll()" [disabled]="vaccinationSlotAllResponse.length == 0" class="btn-clear btn-secondary common-btn margin-left-10">Clear All</button>
                                            <div class="clearfix"></div>
                                        </div>

                                    </div>
                                    <div class="clearfix"></div>
                                </div>
                            </div>

                            <div class="clearfix"></div>
                            <div class="cart-container">

                                <!-- <div class="cart-list" *ngIf="vaccinationSlotAllResponse && vaccinationSlotAllResponse?.centers">
                                    <ul>
                                        <li *ngFor="let center of vaccinationSlotAllResponse.centers; let i = index;">
                                            <div class="cart-single">
                                                <button type="button" class="close-cart common-btn"><i class="fa fa-times"></i></button>
                                                <div class="icon-syringe">
                                                    <i class="fas fa-syringe"></i>
                                                </div>
                                                Slot fount at {{center.address}} {{center.block_name}}, District  {{center.district_name}} is free {{center.fee_type}}
                                                from time {{center.from}}
                                            </div>
                                        </li>
                                    </ul>
                                </div>  -->
                                <!-- bg-paid -->

                                <div class="cart-list">
                                    <ul *ngIf="vaccinationSlotAllResponse">
                                        <li (click)="navigateToSessions(centre)" *ngFor="let centre of vaccinationSlotAllResponse"
                                            [ngStyle]="{'display':centre.isValidCentre ? '' : 'none' }">
                                            <div *ngIf="centre.isValidCentre">
                                                <div class="cart-single"
                                                    [ngClass]="centre.fee_type=='Free'?'bg-free':'bg-paid'">
                                                    <button type="button" class="close-cart common-btn"><i
                                                            class="fa fa-times"></i></button>
                                                    <div class="icon-syringe">
                                                        <i class="fas fa-syringe"></i>
                                                    </div>
                                                    <div class="cart-data">
                                                        <div class="center-name">
                                                            <div class="container-fluid">
                                                                <div class="row">
                                                                    <div class="col-xl-1 padding-lr-0">
                                                                        <i class="far fa-hospital"></i>
                                                                    </div>
                                                                    <div class="col-xl-11 padding-lr-0">
                                                                        {{centre.name}}
                                                                    </div>
                                                                    <div class="col-xl-4 custom-4 padding-lr-0">

                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="center-address">
                                                            <div class="container-fluid">
                                                                <div class="row">
                                                                    <div class="col-xl-1 padding-lr-0">
                                                                        <i class="fas fa-map-marker-alt"></i>
                                                                    </div>
                                                                    <div class="col-xl-11 padding-lr-0">
                                                                        {{centre.address}}, {{centre.district_name}},
                                                                        {{centre.pincode}}
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <!-- <div class="vaccine-name">
                                                    <div class="container-fluid">
                                                        <div class="row">
                                                            <div class="col-xl-1 padding-lr-0">
                                                                <i class="fas fa-syringe"></i>
                                                            </div>
                                                            <div class="col-xl-11 padding-lr-0">
                                                                {{centre.fee_type}}
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>  -->
                                                        <div class="max-capacity">
                                                            <div class="container-fluid">
                                                                <div class="row">
                                                                    <div class="col-xl-1 padding-lr-0">
                                                                        <i class="fas fa-users"></i>
                                                                    </div>
                                                                    <div class="col-xl-11 padding-lr-0">
                                                                        {{centre.availableSlotsCount}} sessions
                                                                        available <span class="btn-view-more" [routerLink]="['/singleTile']"><i class="far fa-eye"></i> View slots</span>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <!-- <div class="container-fluid padding-lr-0">
                                                    <div class="row">
                                                        <div class="col-xl-4 padding-right-0">
                                                            <div class="dateVaccine">
                                                                <div class="container-fluid">
                                                                    <div class="row">
                                                                        <div class="col-xl-1 col-cust-1 padding-lr-0">
                                                                            <i class="far fa-calendar"></i>
                                                                        </div>
                                                                        <div class="col-xl-11 col-cust-11 padding-lr-0">
                                                                            07-05-2021
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-xl-8">
                                                            <div class="time">
                                                                <div class="container-fluid">
                                                                    <div class="row">
                                                                        <div class="col-xl-1 col-cust-1 padding-lr-0">
                                                                            <i class="far fa-clock"></i>
                                                                        </div>
                                                                        <div class="col-xl-11 col-cust-11 padding-lr-0">
                                                                            09:00 AM <span>To</span> 17:00
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="clearfix"></div>
                                                </div> -->
                                                        <div class="clearfix"></div>
                                                    </div>
                                                </div>
                                            </div>

                                        </li>

                                    </ul>
                                </div>
                                <div class="clearfix"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<div [config]="{ show: true }" bsModal #autoShownModal="bs-modal" class="modal modal-search modal-welcome fade" tabindex="-1" role="dialog" aria-labelledby="dialog-auto-name">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header gradient-bx">
                <h4 id="dialog-auto-name" class="modal-title pull-left">Welcome</h4>
                <button type="button" class="close pull-right" aria-label="Close" (click)="hideModal()">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                Welcome
                <p>
                    These are unsettling times and COVID-19 is clearing impacting our personal and professional lives,
                    and those that we love.
                    Please take care, stay positive (covid -ve) and keep smiling. We will get through this, together.
                    Having said that, we welcome you to this volunteer initiative, please choose your desired pin-codes
                    and date and we'll take it from there so that you can spend that extra time with your loved one's.
                </p>
            </div>
            <!-- Modal footer -->
            <div class="modal-footer">
                <button type="button" class="btn-search-all btn-primary common-btn" (click)="openModalSearch()">Search
                    Slots</button>
            </div>
        </div>
    </div>
</div>

<div bsModal #searchModal="bs-modal" class="modal modal-search fade" tabindex="-1" role="dialog" aria-labelledby="dialog-auto-name">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">

            <!-- Modal Header -->
            <div class="modal-header gradient-bx">
                <h4 class="modal-title">Search By</h4>
                <button type="button" class="close pull-right" aria-label="Close" (click)="hideModalSearch()">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>

            <!-- Modal body -->
            <div class="modal-body search-modal-body">
                <div class="container-fluid">
                    <div class="margin-bottom-40">
                        <div class="row">
                            <div class="col-xl-4">
                                <div class="form-group">
                                    <label>State</label>
                                    <!-- <div>
                                        <p-dropdown 
                                            [options]="indianStates" 
                                            [(ngModel)]="selectedCity1" 
                                            placeholder="Select a State" 
                                            [filter]="true"
                                            [showClear]="true"
                                            (ngModelChange)="fetchCities($event.target.value)"
                                            >
                                        </p-dropdown>
                                    </div> -->
                                    <select class="form-control" (change)="fetchCities($event.target.value)">
                                        <option disabled selected>Select State</option>
                                        <option *ngFor="let state of indianStates | sort" [value]="state">{{state}}
                                        </option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-xl-4">
                                <div class="form-group">
                                    <label>City</label>
                                    <!-- <div>
                                <p-dropdown 
                                    [options]="indianStates" 
                                    [(ngModel)]="selectedCity1" 
                                    placeholder="Select a State" 
                                    [filter]="true"
                                    [showClear]="true"
                                    (ngModelChange)="fetchCities($event.target.value)"
                                    >
                                </p-dropdown>
                            </div> -->
                                    <select class="form-control" (change)="fetchPinCodeByCities($event.target.value)">
                                        <option disabled>Select City</option>
                                        <option *ngFor="let city of indianCities | sort" [value]="city">{{city}}
                                        </option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-xl-4">
                                <div class="form-group">
                                    <label>Pincode</label>
                                    <p-multiSelect [options]="areaCode" [(ngModel)]="selectedCodes"
                                        defaultLabel="Select Pincode" optionLabel="pinCode" maxSelectedLabels="2">
                                    </p-multiSelect>
                                </div>
                            </div>
                            <div class="col-xl-4">

                            </div>
                            <div class="clearfix"></div>
                        </div>
                    </div>
                    <div>
                        <div class="row">
                            <div class="col-xl-4">
                                <div class="form-group">
                                    <label>Date</label>
                                    <p-calendar [(ngModel)]="dateValueSingle" [monthNavigator]="true"
                                        [yearNavigator]="true" dateFormat="dd-mm-yy" yearRange="2021:2099"
                                        [touchUI]="true" [showIcon]="true" [readonlyInput]="true"></p-calendar>
                                </div>
                            </div>
                            <div class="col-xl-8">
                                <div class="form-group">
                                    <label>Age Group</label>
                                    <div class="margin-top-8">
                                        <p-radioButton name="age" value="0" [(ngModel)]="ageCategory"
                                            inputId="ageCategory1">
                                        </p-radioButton>
                                        <span for="city1" class="margin-left-5 margin-right-60">18+</span>

                                        <p-radioButton name="age" value="1" [(ngModel)]="ageCategory"
                                            inputId="ageCategory2">
                                        </p-radioButton>
                                        <span for="city2" class="margin-left-5">45+</span>
                                    </div>
                                </div>
                            </div>
                            <div class="clearfix"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Modal footer -->
            <div class="modal-footer">
                <button type="button" class="btn-search-all btn-primary common-btn"
                    (click)="slotsByPincodeAndDate();hideModalSearch()">Search</button>
            </div>

        </div>
    </div>
</div>